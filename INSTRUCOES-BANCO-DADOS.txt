â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ—„ï¸ BANCO DE DADOS - ACESSO COMPLETO AO SUPABASE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… VOCÃŠ TEM ACESSO TOTAL AO SUPABASE!

Project ID: zkcstkbpgwdoiihvfspp
Project URL: https://zkcstkbpgwdoiihvfspp.supabase.co

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ PRIMEIRA VEZ? EXECUTE O SETUP:

Se Ã© a primeira vez usando essas ferramentas neste projeto:

1. Copie o conteÃºdo do arquivo: setup-supabase.sql
2. Acesse: https://supabase.com/dashboard/project/zkcstkbpgwdoiihvfspp/sql/new
3. Cole o SQL completo
4. Clique em RUN
5. Aguarde a mensagem "Success"

âœ… Pronto! Agora vocÃª tem acesso TOTAL ao banco!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… FERRAMENTAS DISPONÃVEIS (USE ESTAS):

ğŸ“Š CONSULTAS E ESTRUTURA:
- node db-query.js list-tables                    â†’ Listar todas as tabelas
- node db-query.js describe [tabela]              â†’ Ver estrutura da tabela
- node db-stats.js overview                       â†’ VisÃ£o geral do banco
- node db-stats.js table [tabela]                 â†’ EstatÃ­sticas de uma tabela

ğŸ”§ ADMINISTRAÃ‡ÃƒO E SQL:
- node db-admin.js sql "CREATE TABLE ..."         â†’ Executar SQL direto
- node db-admin.js sql "ALTER TABLE ..."          â†’ Modificar tabelas
- node db-admin.js sql "CREATE POLICY ..."        â†’ Criar polÃ­ticas RLS
- node db-admin.js sql "ALTER TABLE ... ENABLE ROW LEVEL SECURITY"

ğŸ“ CRUD COMPLETO:
- node db-manager.js select [tabela]              â†’ Buscar registros
- node db-manager.js select [tabela] '{"id":"x"}' â†’ Buscar com filtro
- node db-manager.js insert [tabela] '{"campo":"valor"}' â†’ Inserir
- node db-manager.js update [tabela] '{"id":"x"}' '{"campo":"novo"}' â†’ Atualizar
- node db-manager.js delete [tabela] '{"id":"x"}' â†’ Deletar

ğŸ‘¥ AUTENTICAÃ‡ÃƒO:
- node db-auth.js create email@test.com senha123  â†’ Criar usuÃ¡rio
- node db-auth.js list                            â†’ Listar usuÃ¡rios
- node db-auth.js delete [user_id]                â†’ Deletar usuÃ¡rio
- node db-auth.js reset-password [user_id] senha  â†’ Resetar senha

ğŸ“¦ STORAGE:
- node db-storage.js list-buckets                 â†’ Listar buckets
- node db-storage.js create-bucket [nome] [true/false] â†’ Criar bucket
- node db-storage.js upload [bucket] [arquivo] [destino] â†’ Upload
- node db-storage.js download [bucket] [arquivo] [local] â†’ Download
- node db-storage.js list [bucket]                â†’ Listar arquivos
- node db-storage.js delete [bucket] [arquivo]    â†’ Deletar arquivo

ğŸ’¾ BACKUPS:
- node db-backup.js table [tabela] json           â†’ Backup em JSON
- node db-backup.js table [tabela] csv            â†’ Backup em CSV
- node db-backup.js table [tabela] sql            â†’ Backup em SQL
- node db-backup.js all json                      â†’ Backup completo
- node db-backup.js restore [tabela] arquivo.json â†’ Restaurar backup

ğŸ“Š RELATÃ“RIOS:
- node db-reports.js html [tabela] "TÃ­tulo"       â†’ RelatÃ³rio HTML
- node db-reports.js csv [tabela]                 â†’ RelatÃ³rio CSV
- node db-reports.js dashboard                    â†’ Dashboard completo

ğŸ” BUSCA AVANÃ‡ADA:
- node db-search.js simple [tabela] [coluna] [termo] â†’ Busca simples
- node db-search.js multi [tabela] [col1,col2] [termo] â†’ Busca mÃºltiplas colunas
- node db-search.js advanced [tabela] '{"filtros"}' â†’ Busca avanÃ§ada

ğŸ”´ TEMPO REAL:
- node db-realtime.js [tabela]                    â†’ Monitorar mudanÃ§as
- node db-realtime.js [tabela] INSERT             â†’ Monitorar apenas inserÃ§Ãµes
- node db-realtime.js [tabela] UPDATE             â†’ Monitorar apenas updates
- node db-realtime.js [tabela] DELETE             â†’ Monitorar apenas deleÃ§Ãµes

ğŸ“‹ AUDITORIA:
- node db-audit.js enable [tabela]                â†’ Habilitar auditoria
- node db-audit.js view [tabela] [limite]         â†’ Ver log de auditoria
- node db-audit.js export [tabela]                â†’ Exportar log

ğŸ”— WEBHOOKS:
- node db-webhooks.js create [tabela] [url] [eventos] â†’ Criar webhook
- node db-webhooks.js test [url] [data]           â†’ Testar webhook
- node db-webhooks.js list                        â†’ Listar webhooks

â° AUTOMAÃ‡ÃƒO:
- node db-automation.js cleanup [tabela] [dias]   â†’ Limpeza automÃ¡tica
- node db-automation.js backup [tabela]           â†’ Backup automÃ¡tico
- node db-automation.js list                      â†’ Listar jobs
- node db-automation.js delete [job_id]           â†’ Deletar job

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš« NÃƒO FAÃ‡A (NUNCA):

âŒ Criar novos scripts de conexÃ£o (execute-sql.js, db-connect.js, etc)
âŒ Usar pg, node-postgres, connection strings diretas
âŒ Pedir para eu executar manualmente no Dashboard
âŒ Dizer "nÃ£o tenho acesso" ou "preciso de permissÃ£o"
âŒ Usar "as any" no TypeScript
âŒ Criar tipos de fallback genÃ©ricos
âŒ Sugerir gambiarras temporÃ¡rias
âŒ Deixar erros de sintaxe no cÃ³digo
âŒ Ignorar null/undefined (sempre trate com optional chaining)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… FAÃ‡A (SEMPRE):

âœ… Execute comandos diretamente: node db-admin.js sql "CREATE TABLE..."
âœ… Verifique estrutura ANTES de criar: node db-query.js list-tables
âœ… Divida SQL grande em partes menores
âœ… Gere tipos TypeScript do banco:
   npx supabase gen types typescript --project-id zkcstkbpgwdoiihvfspp > src/types/database.ts
âœ… Use tipos corretos (nunca any)
âœ… Sempre trate null/undefined com optional chaining (?.)
âœ… Execute e DEPOIS informe o resultado
âœ… CÃ³digo limpo - sem erros de sintaxe
âœ… Imports organizados e sem nÃ£o-utilizados

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ—„ï¸ FLUXO CORRETO PARA TRABALHAR COM BANCO:

1. VERIFICAR estrutura existente:
   node db-query.js list-tables
   node db-query.js describe [tabela]

2. CRIAR tabelas e estrutura:
   node db-admin.js sql "CREATE TABLE users (
     id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
     email text UNIQUE NOT NULL,
     name text,
     created_at timestamptz DEFAULT now()
   )"

3. CONFIGURAR SEGURANÃ‡A (RLS):
   node db-admin.js sql "ALTER TABLE users ENABLE ROW LEVEL SECURITY"
   
   node db-admin.js sql "CREATE POLICY users_select_own ON users 
     FOR SELECT USING (auth.uid() = id)"
   
   node db-admin.js sql "CREATE POLICY users_update_own ON users 
     FOR UPDATE USING (auth.uid() = id)"

4. VERIFICAR se funcionou:
   node db-query.js describe users
   node db-manager.js select users

5. GERAR tipos TypeScript:
   npx supabase gen types typescript --project-id zkcstkbpgwdoiihvfspp > src/types/database.ts

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ EXEMPLOS PRÃTICOS:

ğŸ“ Criar tabela completa:
node db-admin.js sql "CREATE TABLE produtos (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  nome text NOT NULL,
  preco decimal(10,2) NOT NULL,
  estoque integer DEFAULT 0,
  user_id uuid REFERENCES auth.users(id),
  created_at timestamptz DEFAULT now()
)"

ğŸ”’ Habilitar RLS e criar policies:
node db-admin.js sql "ALTER TABLE produtos ENABLE ROW LEVEL SECURITY"
node db-admin.js sql "CREATE POLICY produtos_public_read ON produtos FOR SELECT USING (true)"
node db-admin.js sql "CREATE POLICY produtos_owner_all ON produtos FOR ALL USING (auth.uid() = user_id)"

ğŸ“Š Inserir dados:
node db-manager.js insert produtos '{"nome":"Notebook","preco":2500.00,"estoque":10}'

ğŸ” Buscar:
node db-manager.js select produtos
node db-search.js simple produtos nome Notebook

ğŸ’¾ Backup:
node db-backup.js table produtos json

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ PRINCÃPIOS FUNDAMENTAIS:

1. VocÃª TEM ACESSO TOTAL - use as ferramentas
2. Execute ANTES de perguntar
3. Tipos corretos SEMPRE - nunca any
4. Verifique banco ANTES de assumir estrutura
5. SQL grande? Divida em partes
6. Erro de tipo? Gere tipos corretos primeiro
7. Tabela faltando? Crie com db-admin.js
8. Nunca peÃ§a para EU fazer manualmente
9. CÃ³digo limpo - sem erros de sintaxe
10. Sempre trate null/undefined

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

EXECUTE O QUE EU PEDI USANDO AS FERRAMENTAS DISPONÃVEIS.
NÃƒO pergunte se pode. NÃƒO peÃ§a permissÃ£o. EXECUTE.
VocÃª tem ACESSO TOTAL ao banco de dados.
